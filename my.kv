#: import FadeTransition kivy.uix.screenmanager.FadeTransition
#: import SlideTransition kivy.uix.screenmanager.SlideTransition

<Manager>:
    id: manager
    check_screen :check
    main_screen: main
    #check Screen
    CheckScreen:
        id:check
        name:"check"
        manager: manager

    MainScreen:
        id: main
        name:"main"
        manager: manager

<MyButton@Button>:
    # font_size: 40
    size_hint: 0.44,0.44
    background_color: 0.1, 0.5, 0.6, 1


<MainScreen>:
    widgets :widgets
    qrcam: qrcam

    FrontEnd:
        id: frontend
        canvas:
            Color:
                rgba: 0.55, 0.55, 0.55, 1

            Rectangle:
                pos: 0, 0
                size: 127, 764
            # Tools Button Container (Bottom)
            Rectangle:
                pos: 127, 40
                size: 739, 130

            Rectangle:
                pos: 0, 764
                size: 1550, 40

            Rectangle:
                pos: 127, 724
                size: 247, 40

             # Tab 2 (Secondary Display) Tombol Start
            Rectangle:
                pos: 906, 724
                size: 247, 40

            # Tab 3 (Attachment)
            Rectangle:
                pos: 906, 285
                size: 247, 40

            ## Dark
            Color:
                rgba: 0.32, 0.32, 0.32, 1
            # Tab 1 (Main Display)
            Rectangle:
                pos: 374, 724
                size: 532, 40

            # Tab 2 (Secondary Display)
            Rectangle:
                pos: 1153, 724
                size: 600, 40

            # Tab 3 (Attachment)
            Rectangle:
                pos: 1153, 285
                size: 382, 39

            # Middle (Display Divider)
            Rectangle:
                pos: 866, 0
                size: 40, 724

            # Bottom
            Rectangle:
                pos: 127, 0
                size: 1423, 40

            ## Border
            Color:
                rgba: 0.44, 0.44, 0.44, 1

            # Left Container
            Line:
                width: 1
                rectangle: 0, 0, 127, 764

            # Top
            Line:
                width: 1
                rectangle: self.x, 765, self.width, self.height

            Color:
                rgba: 0.23, 0.23, 0.23, 1

            # Tab 1 (Main Display)
            Line:
                width: 1
                rectangle: 128, 724, 247, 40

            # Tab 2 (Secondary Display)
            Line:
                width: 1
                rectangle: 907, 724, 247, 40

            # Tab 3 (Attachment)
            Line:
                width: 1
                rectangle: 907, 285, 247, 40
    Layers:
        id: layers
    Widgets:
        id: widgets
        FloatLayout:
            # Left Column
            MyButton:
                id: btn1
                pos_hint: {"x":0.13, "top":7.5}
            MyButton:
                id: btn2
                pos_hint: {"x":0.13, "top":6.97}
                text: "Start"
                on_press : root.record()

            MyButton:
                id: btn3
                pos_hint: {"x":0.13, "top":6.44}
                text:"Stop"


            MyButton:
                id: btn4
                pos_hint: {"x":0.13, "top":5.91}
                text: "STOP"


            MyButton:
                id: btn5
                pos_hint: {"x":0.13, "top":5.38}

            MyButton:
                id: btn6
                pos_hint: {"x":0.13, "top":4.85}

            MyButton:
                id: btn7
                pos_hint: {"x":0.13, "top":4.32}

            MyButton:
                id: btn8
                pos_hint: {"x":0.13, "top":3.79}

            # Right Column
            MyButton:
                id: btn9
                pos_hint: {"x":0.67, "top":7.5}

            MyButton:
                id: btn10
                pos_hint: {"x": 0.67, "top": 6.97}

            MyButton:
                id: btn11
                pos_hint: {"x": 0.67, "top": 6.44}

            MyButton:
                id: btn12
                pos_hint: {"x": 0.67, "top": 5.91}

            MyButton:
                id: btn13
                pos_hint: {"x": 0.67, "top": 5.38}

            MyButton:
                id: btn14
                pos_hint: {"x": 0.67, "top": 4.85}

            MyButton:
                id: btn15
                pos_hint: {"x": 0.67, "top": 4.32}

            MyButton:
                id: btn16
                pos_hint: {"x": 0.67, "top": 3.79}
                text: "Clear"
                on_press: root.clearCanvas()

            MyButton:
                id: record
                size_hint: None, None
                size: 150, 39
                text: "Start"
                pos_hint:{"x":9.5, "top": 7.63}
                values: 1
                on_press:
                    root.Record(self.values)

            BoxLayout:
                orientation: 'vertical'
                size_hint: None, None
                size: 600, 230
                pos_hint:{'center_x':12.25, 'top': 2.9}
                FileChooserListView:
                    id:filechooser
                    on_selection: root.selectFile(filechooser.selection)

            Spinner:
                    # Assigning id
                id: spinner_id
                    # Callback
                on_text: root.spinner_clicked(spinner_id.text)
                background_normal: ''
                background_color: 0.1, 0.5, 0.6, 1
                    # initially text on spinner
                text: "Layer 1"
                on_release:
                    self.background_color= 0.1, 0.5, 0.6, 1
                    # total values on spinner
                values: ["Layer 1", "Layer 2", "Layer 3"]
                    # declaring size of the spinner
                    # and the position of it
                size_hint: None, None
                size: 200, 40
                pos_hint:{'center_x':10.25, 'top': 3.26}

        KivyCamera:
            id: qrcam
            pos: 958, 340
            size: 532, 370
            size_hint:(None,None)




<CheckScreen>:
    FrontEnd2:
        canvas:
            Color:
                rgba: 0.44, 0.44, 0.44, 1
            Line:
                width: 3
                rectangle: 408, 280, 312, 50
            Line:
                width: 3
                rectangle: 812, 280, 312, 50
    Widgets2:
        Button:
            id: detectCamera
            background_normal: 'assets/camerabordered2.png'
            size_hint: .18, .28
            pos_hint: {"x": 0.5, "y": 0.4}
            pos: 405, 350
            size: 317, 277
            on_press:
                root.detectCamera()
        Button:
            id: detectPentab
            background_normal: 'assets/pentabbordered2.png'
            size_hint: .18, .28
            pos_hint: {"x": 0.5, "y": 0.4}
            pos: 810, 350
            size: 317, 277
            on_press:
                root.detectPentab()
        Button:
            id: nextScreen
            disabled: True
            size_hint: .18, .28
            pos_hint: {"x": 0.5, "y": 0.4}
            pos: 650, 150
            size: 200,75
            font_size: 25
            text: "Next Screen"
            on_press:
                root.check()
        Image:
            id: imgCheckCamera
            source: 'assets/cross.png'
            size_hint: .18, .28
            pos: 492, 348
            size: 142, 60
        Image:
            id: imgCheckPentab
            source: 'assets/cross.png'
            size_hint: .18, .28
            pos: 897, 348
            size: 142, 60
        Label:
            text: 'Detect Camera'
            italic: True
            font_size: 28
            pos: 514, 257
        Label:
            text: 'Detect Pentab'
            italic: True
            font_size: 28
            pos: 919, 257



    # BoxLayout:
    #     pos: 934, 350
    #     size: 580, 350

# <P>:
#     Label:
#         text: "You pressed the button"
#         size_hint: 0.6, 0.2
#         pos_hint: {"x":0.2, "top":1}
#
#     Button:
#         text: "You pressed the button"
#         size_hint: 0.8, 0.2
#         pos_hint: {"x":0.1, "y":0.1}